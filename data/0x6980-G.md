# Report

## Gas Optimizations


| |Issue|Instances|Gas Saved|
|-|:-|:-:|-|
| [G-01](#G-01) | `abi.encode()` is less efficient than `abi.encodepacked()` | 4 | 960
| [G-02](#G-02) | Use assembly to check for `address(0)` | 5 | 30
| [G-03](#G-03) | Using `bool`s for storage incurs overhead | 4 | 68,400
| [G-04](#G-04) | Use `calldata` instead of `memory` for function arguments that do not get mutated | 36 | 12,969
| [G-05](#G-05) | Consider activating `via-ir` for deploying | 1 | -
| [G-06](#G-06) | Default `bool` values are manually reset | 5 | -
| [G-07](#G-07) | Do not calculate constants | 9 | -
| [G-08](#G-08) | Empty Blocks Should Be Removed Or Emit Something | 2 | 8,012
| [G-09](#G-09) | Don't initialize `uint`/`int` variables with default value | 32 | -
| [G-10](#G-10) | Help The Optimizer By Saving A Storage Variable's Reference Instead Of Repeatedly Fetching It | 9 | -
| [G-11](#G-11) | `require()` or `revert()` statements that check input arguments should be at the top of the function | 1 | -
| [G-12](#G-12) | Shorten the array rather than copying to a new one | 19 | -
| [G-13](#G-13) | Usage of `uint`s/`int`s smaller than 32 bytes (256 bits) incurs overhead | 22 | 220
| [G-14](#G-14) | Incrementing with a smaller type than `uint256` incurs overhead | 2 | -
| [G-15](#G-15) | State variables which are not modified within functions should be set as `constant` or `immutable` for values set at deployment | 10 | 200,000
| [G-16](#G-16) | State variables used within a function more than once should be cached to save gas | 69 | -
| [G-17](#G-17) | Increments can be `unchecked` in for-loops | 28 | -
| [G-18](#G-18) | Use `!= 0` instead of `> 0` for unsigned integer comparison | 3 | -
| [G-19](#G-19) | Unused named return variables without optimizer waste gas | 2 | 7
| [G-20](#G-20) | Use `assembly` to write address storage values | 5 | -
| [G-21](#G-21) | `bytes.concat()` can be used instead of `abi.encodePacked` | 1 | -
| [G-22](#G-22) | The use of a logical AND (`&&`) instead of double `if` is slightly less gas efficient in instances where there isn't a corresponding `else` statement for the given `if` statement | 6 | 90
| [G-23](#G-23) | `>=`/ `<=` costs less gas than `>`/`<` | 45 | 135
| [G-24](#G-24) | Use `uint256(1)`/`uint256(2)` instead for `true` and `false` boolean states | 4 | 68,400

## Gas Optimizations

### <a name="G-01"></a>[G-01] `abi.encode()` is less efficient than `abi.encodepacked()`
See for more information: [refrence](https://github.com/ConnorBlockchain/Solidity-Encode-Gas-Comparison)

*Instances (4)*:

```solidity
File: governance/src/UpgradeExecRouteBuilder.sol

151:                 schedData[i] = abi.encode(

```

[151](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/UpgradeExecRouteBuilder.sol#L151)

```solidity
File: governance/src/gov-action-contracts/execution-record/ActionExecutionRecord.sol

38:         return uint256(keccak256(abi.encode(actionContractId, key)));

```

[38](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/gov-action-contracts/execution-record/ActionExecutionRecord.sol#L38)

```solidity
File: governance/src/gov-action-contracts/execution-record/KeyValueStore.sol

27:         return uint256(keccak256(abi.encode(owner, key)));

```

[27](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/gov-action-contracts/execution-record/KeyValueStore.sol#L27)

```solidity
File: governance/src/security-council-mgmt/governors/modules/ElectionGovernor.sol

23:         electionData[0] = abi.encode(electionIndex);

```

[23](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/modules/ElectionGovernor.sol#L23)

### <a name="G-02"></a>[G-02] Use assembly to check for `address(0)`
*Saves 6 gas per instance*

*Instances (5)*:

```solidity
File: governance/src/UpgradeExecRouteBuilder.sol

72:         if (_l1ArbitrumTimelock == address(0)) {

78:             if (chainAndUpExecLocation.location.upgradeExecutor == address(0)) {

94:         return upExecLocations[_chainId].upgradeExecutor != address(0);

131:             if (upExecLocation.upgradeExecutor == address(0)) {

143:             if (upExecLocation.inbox == address(0)) {

```

[72](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/UpgradeExecRouteBuilder.sol#L72), [78](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/UpgradeExecRouteBuilder.sol#L78), [94](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/UpgradeExecRouteBuilder.sol#L94), [131](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/UpgradeExecRouteBuilder.sol#L131), [143](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/UpgradeExecRouteBuilder.sol#L143)

### <a name="G-03"></a>[G-03] Using `bool`s for storage incurs overhead
Booleans are more expensive than `uint256` or any type that takes up a full word because each write operation emits an extra SLOAD to first read the slot's contents, replace the bits taken up by the boolean, and then write back. This is the compiler's defense against contract upgrades and pointer aliasing, and it cannot be disabled.

*Instances (4)*:

```solidity
File: governance/src/security-council-mgmt/SecurityCouncilMgmtUtils.sol

17:         mapping(address => bool) storage excludeList

```

[17](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilMgmtUtils.sol#L17)

```solidity
File: governance/src/security-council-mgmt/governors/SecurityCouncilNomineeElectionGovernor.sol

55:         mapping(address => bool) isContender;

56:         mapping(address => bool) isExcluded;

```

[55](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/SecurityCouncilNomineeElectionGovernor.sol#L55), [56](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/SecurityCouncilNomineeElectionGovernor.sol#L56)

```solidity
File: governance/src/security-council-mgmt/governors/modules/SecurityCouncilNomineeElectionGovernorCountingUpgradeable.sol

22:         mapping(address => bool) isNominee;

```

[22](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/modules/SecurityCouncilNomineeElectionGovernorCountingUpgradeable.sol#L22)


### <a name="G-04"></a>[G-04] Use `calldata` instead of `memory` for function arguments that do not get mutated
Mark data types as `calldata` instead of `memory` where possible. This makes it so that the data is not automatically loaded into memory. If the data passed into the function does not need to be changed (like updating values in an array), it can be passed in as `calldata`. The one exception to this is if the argument must later be passed into another function that takes an argument that specifies `memory` storage.

*Instances (36)*:
<details>
<summary>see instances</summary>


```solidity
File: governance/src/UpgradeExecRouteBuilder.sol

68:         ChainAndUpExecLocation[] memory _upgradeExecutors,

106:         uint256[] memory chainIds,

107:         address[] memory actionAddresses,

108:         uint256[] memory actionValues,

109:         bytes[] memory actionDatas,

187:         uint256[] memory chainIds,

188:         address[] memory actionAddresses,

```

[68](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/UpgradeExecRouteBuilder.sol#L68), [106](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/UpgradeExecRouteBuilder.sol#L106), [107](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/UpgradeExecRouteBuilder.sol#L107), [108](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/UpgradeExecRouteBuilder.sol#L108), [109](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/UpgradeExecRouteBuilder.sol#L109), [187](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/UpgradeExecRouteBuilder.sol#L187), [188](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/UpgradeExecRouteBuilder.sol#L188)

```solidity
File: governance/src/gov-action-contracts/AIPs/SecurityCouncilMgmt/SecurityCouncilMgmtUpgradeLib.sol

52:     function areAddressArraysEqual(address[] memory array1, address[] memory array2)

52:     function areAddressArraysEqual(address[] memory array1, address[] memory array2)

```

[52](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/gov-action-contracts/AIPs/SecurityCouncilMgmt/SecurityCouncilMgmtUpgradeLib.sol#L52), [52](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/gov-action-contracts/AIPs/SecurityCouncilMgmt/SecurityCouncilMgmtUpgradeLib.sol#L52)

```solidity
File: governance/src/gov-action-contracts/execution-record/ActionExecutionRecord.sol

18:     constructor(KeyValueStore _store, string memory _uniqueActionName) {

```

[18](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/gov-action-contracts/execution-record/ActionExecutionRecord.sol#L18)

```solidity
File: governance/src/security-council-mgmt/SecurityCouncilManager.sol

90:         address[] memory _firstCohort,

91:         address[] memory _secondCohort,

92:         SecurityCouncilData[] memory _securityCouncils,

93:         SecurityCouncilManagerRoles memory _roles,

124:     function replaceCohort(address[] memory _newCohort, Cohort _cohort)

271:     function addSecurityCouncil(SecurityCouncilData memory _securityCouncilData)

279:     function removeSecurityCouncil(SecurityCouncilData memory _securityCouncilData)

370:     function generateSalt(address[] memory _members, uint256 nonce)

```

[90](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilManager.sol#L90), [91](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilManager.sol#L91), [92](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilManager.sol#L92), [93](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilManager.sol#L93), [124](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilManager.sol#L124), [271](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilManager.sol#L271), [279](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilManager.sol#L279), [370](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilManager.sol#L370)

```solidity
File: governance/src/security-council-mgmt/SecurityCouncilMemberSyncAction.sol

31:     function perform(address _securityCouncil, address[] memory _updatedMembers, uint256 _nonce)

```

[31](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilMemberSyncAction.sol#L31)

```solidity
File: governance/src/security-council-mgmt/factories/L2SecurityCouncilMgmtFactory.sol

81:     function deploy(DeployParams memory dp, ContractImplementations memory impls)

81:     function deploy(DeployParams memory dp, ContractImplementations memory impls)

```

[81](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/factories/L2SecurityCouncilMgmtFactory.sol#L81), [81](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/factories/L2SecurityCouncilMgmtFactory.sol#L81)

```solidity
File: governance/src/security-council-mgmt/governors/SecurityCouncilMemberElectionGovernor.sol

181:     function propose(address[] memory, uint256[] memory, bytes[] memory, string memory)

181:     function propose(address[] memory, uint256[] memory, bytes[] memory, string memory)

181:     function propose(address[] memory, uint256[] memory, bytes[] memory, string memory)

181:     function propose(address[] memory, uint256[] memory, bytes[] memory, string memory)

```

[181](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/SecurityCouncilMemberElectionGovernor.sol#L181), [181](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/SecurityCouncilMemberElectionGovernor.sol#L181), [181](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/SecurityCouncilMemberElectionGovernor.sol#L181), [181](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/SecurityCouncilMemberElectionGovernor.sol#L181)

```solidity
File: governance/src/security-council-mgmt/governors/SecurityCouncilMemberRemovalGovernor.sol

107:         address[] memory targets,

108:         uint256[] memory values,

109:         bytes[] memory calldatas,

110:         string memory description

```

[107](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/SecurityCouncilMemberRemovalGovernor.sol#L107), [108](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/SecurityCouncilMemberRemovalGovernor.sol#L108), [109](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/SecurityCouncilMemberRemovalGovernor.sol#L109), [110](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/SecurityCouncilMemberRemovalGovernor.sol#L110)

```solidity
File: governance/src/security-council-mgmt/governors/SecurityCouncilNomineeElectionGovernor.sol

103:     function initialize(InitParams memory params) public initializer {

423:     function propose(address[] memory, uint256[] memory, bytes[] memory, string memory)

423:     function propose(address[] memory, uint256[] memory, bytes[] memory, string memory)

423:     function propose(address[] memory, uint256[] memory, bytes[] memory, string memory)

423:     function propose(address[] memory, uint256[] memory, bytes[] memory, string memory)

```

[103](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/SecurityCouncilNomineeElectionGovernor.sol#L103), [423](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/SecurityCouncilNomineeElectionGovernor.sol#L423), [423](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/SecurityCouncilNomineeElectionGovernor.sol#L423), [423](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/SecurityCouncilNomineeElectionGovernor.sol#L423), [423](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/SecurityCouncilNomineeElectionGovernor.sol#L423)

```solidity
File: governance/src/security-council-mgmt/governors/modules/SecurityCouncilMemberElectionGovernorCountingUpgradeable.sol

191:     function selectTopNominees(address[] memory nominees, uint240[] memory weights, uint256 k)

191:     function selectTopNominees(address[] memory nominees, uint240[] memory weights, uint256 k)

```

[191](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/modules/SecurityCouncilMemberElectionGovernorCountingUpgradeable.sol#L191), [191](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/modules/SecurityCouncilMemberElectionGovernorCountingUpgradeable.sol#L191)

</details>

### <a name="G-05"></a>[G-05] Consider activating `via-ir` for deploying
The IR-based code generator was introduced with an aim to not only allow code generation to be more transparent and auditable but also to enable more powerful optimization passes that span across functions.
You can enable it on the command line using `--via-ir` or with the option `{"viaIR": true}`.
This will take longer to compile, but you can just simple test it before deploying and if you got a better benchmark then you can add`--via-ir` to your deploy command.
More on: [https://docs.soliditylang.org/en/v0.8.17/ir-breaking-changes.html](https://docs.soliditylang.org/en/v0.8.17/ir-breaking-changes.html)

*Instances (1)*:

```solidity
File: Deplyment Files

1: 

```

[1](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilManager.sol#L1)

### <a name="G-06"></a>[G-06] Default `bool` values are manually reset
Using `.delete` is better than resetting a Solidity variable to its default value manually because it frees up storage space on the Ethereum blockchain, resulting in gas cost savings.

*Instances (5)*:

```solidity
File: governance/src/gov-action-contracts/AIPs/SecurityCouncilMgmt/SecurityCouncilMgmtUpgradeLib.sol

65:                     found = true;

78:                     found = true;

```

[65](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/gov-action-contracts/AIPs/SecurityCouncilMgmt/SecurityCouncilMgmtUpgradeLib.sol#L65), [78](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/gov-action-contracts/AIPs/SecurityCouncilMgmt/SecurityCouncilMgmtUpgradeLib.sol#L78)

```solidity
File: governance/src/security-council-mgmt/governors/SecurityCouncilNomineeElectionGovernor.sol

240:         election.isContender[msg.sender] = true;

279:         election.isExcluded[nominee] = true;

```

[240](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/SecurityCouncilNomineeElectionGovernor.sol#L240), [279](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/SecurityCouncilNomineeElectionGovernor.sol#L279)

```solidity
File: governance/src/security-council-mgmt/governors/modules/SecurityCouncilNomineeElectionGovernorCountingUpgradeable.sol

123:         _elections[proposalId].isNominee[account] = true;

```

[123](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/modules/SecurityCouncilNomineeElectionGovernorCountingUpgradeable.sol#L123)

### <a name="G-07"></a>[G-07] Do not calculate constants
Due to how constant variables are implemented (replacements at compile-time), an expression assigned to a constant variable is recomputed each time that the variable is used, which wastes some gas.

*Instances (9)*:
<details>
<summary>see instances</summary>


```solidity
File: governance/src/UpgradeExecRouteBuilder.sol

50:     bytes public constant DEFAULT_GOV_ACTION_CALLDATA =
51:            abi.encodeWithSelector(DefaultGovAction.perform.selector);

54:     bytes32 public constant DEFAULT_PREDECESSOR = bytes32(0);

```

[50-51](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/UpgradeExecRouteBuilder.sol#L50-L51), [54](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/UpgradeExecRouteBuilder.sol#L54)

```solidity
File: governance/src/security-council-mgmt/SecurityCouncilManager.sol

79:     bytes32 public constant COHORT_REPLACER_ROLE = keccak256("COHORT_REPLACER");

80:     bytes32 public constant MEMBER_ADDER_ROLE = keccak256("MEMBER_ADDER");

81:     bytes32 public constant MEMBER_REPLACER_ROLE = keccak256("MEMBER_REPLACER");

82:     bytes32 public constant MEMBER_ROTATOR_ROLE = keccak256("MEMBER_ROTATOR");

83:     bytes32 public constant MEMBER_REMOVER_ROLE = keccak256("MEMBER_REMOVER");

```

[79](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilManager.sol#L79), [80](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilManager.sol#L80), [81](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilManager.sol#L81), [82](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilManager.sol#L82), [83](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilManager.sol#L83)

```solidity
File: governance/src/security-council-mgmt/SecurityCouncilMemberSyncAction.sol

19:     address public constant SENTINEL_OWNERS = address(0x1);

```

[19](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilMemberSyncAction.sol#L19)

```solidity
File: governance/src/security-council-mgmt/governors/modules/ArbitrumGovernorVotesQuorumFractionUpgradeable.sol

22:     address public constant EXCLUDE_ADDRESS = address(0xA4b86);

```

[22](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/modules/ArbitrumGovernorVotesQuorumFractionUpgradeable.sol#L22)

</details>

### <a name="G-08"></a>[G-08] Empty Blocks Should Be Removed Or Emit Something
The code should be refactored such that they no longer exist, or the block should do something useful, such as emitting an event or reverting. If the contract is meant to be extended, the contract should be abstract and the function signatures be added without any default implementation. If the block is an empty if-statement block to avoid doing subsequent checks in the `else-if`/`else` conditions, the `else-if`/`else` conditions should be nested under the negation of the `if`-statement, because they involve different classes of checks, which may lead to the introduction of errors when the code is later modified(`if(x){}else if(y){...}else{...} => if(!x){if(y){...}else{...}}`)

*Instances (2)*:

```solidity
File: governance/src/security-council-mgmt/SecurityCouncilMemberSyncAction.sol

21:     constructor(KeyValueStore _store)
22:            ActionExecutionRecord(_store, "SecurityCouncilMemberSyncAction")
23:        {}

```

[21-23](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilMemberSyncAction.sol#L21-L23)

```solidity
File: governance/src/security-council-mgmt/governors/modules/SecurityCouncilNomineeElectionGovernorCountingUpgradeable.sol

52:     function __SecurityCouncilNomineeElectionGovernorCounting_init() internal onlyInitializing {}

```

[52](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/modules/SecurityCouncilNomineeElectionGovernorCountingUpgradeable.sol#L52)

### <a name="G-09"></a>[G-09] Don't initialize `uint`/`int` variables with default value

*Instances (32)*:
<details>
<summary>see instances</summary>


```solidity
File: governance/src/UpgradeExecRouteBuilder.sol

52:     uint256 public constant DEFAULT_VALUE = 0;

76:         for (uint256 i = 0; i < _upgradeExecutors.length; i++) {

129:         for (uint256 i = 0; i < chainIds.length; i++) {

193:         for (uint256 i = 0; i < chainIds.length; i++) {

```

[52](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/UpgradeExecRouteBuilder.sol#L52), [76](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/UpgradeExecRouteBuilder.sol#L76), [129](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/UpgradeExecRouteBuilder.sol#L129), [193](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/UpgradeExecRouteBuilder.sol#L193)

```solidity
File: governance/src/gov-action-contracts/AIPs/SecurityCouncilMgmt/SecurityCouncilMgmtUpgradeLib.sol

61:         for (uint256 i = 0; i < array1.length; i++) {

62:             bool found = false;

63:             for (uint256 j = 0; j < array2.length; j++) {

74:         for (uint256 i = 0; i < array2.length; i++) {

75:             bool found = false;

76:             for (uint256 j = 0; j < array1.length; j++) {

```

[61](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/gov-action-contracts/AIPs/SecurityCouncilMgmt/SecurityCouncilMgmtUpgradeLib.sol#L61), [62](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/gov-action-contracts/AIPs/SecurityCouncilMgmt/SecurityCouncilMgmtUpgradeLib.sol#L62), [63](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/gov-action-contracts/AIPs/SecurityCouncilMgmt/SecurityCouncilMgmtUpgradeLib.sol#L63), [74](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/gov-action-contracts/AIPs/SecurityCouncilMgmt/SecurityCouncilMgmtUpgradeLib.sol#L74), [75](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/gov-action-contracts/AIPs/SecurityCouncilMgmt/SecurityCouncilMgmtUpgradeLib.sol#L75), [76](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/gov-action-contracts/AIPs/SecurityCouncilMgmt/SecurityCouncilMgmtUpgradeLib.sol#L76)

```solidity
File: governance/src/security-council-mgmt/SecurityCouncilManager.sol

106:         for (uint256 i = 0; i < _roles.memberRemovers.length; i++) {

118:         for (uint256 i = 0; i < _securityCouncils.length; i++) {

135:         for (uint256 i = 0; i < _newCohort.length; i++) {

162:         for (uint256 i = 0; i < 2; i++) {

164:             for (uint256 j = 0; j < cohort.length; j++) {

251:         for (uint256 i = 0; i < securityCouncils.length; i++) {

284:         for (uint256 i = 0; i < securityCouncils.length; i++) {

339:         for (uint256 i = 0; i < firstCohort.length; i++) {

342:         for (uint256 i = 0; i < secondCohort.length; i++) {

392:         for (uint256 i = 0; i < securityCouncils.length; i++) {

```

[106](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilManager.sol#L106), [118](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilManager.sol#L118), [135](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilManager.sol#L135), [162](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilManager.sol#L162), [164](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilManager.sol#L164), [251](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilManager.sol#L251), [284](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilManager.sol#L284), [339](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilManager.sol#L339), [342](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilManager.sol#L342), [392](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilManager.sol#L392)

```solidity
File: governance/src/security-council-mgmt/SecurityCouncilMemberSyncAction.sol

60:         for (uint256 i = 0; i < _updatedMembers.length; i++) {

67:         for (uint256 i = 0; i < previousOwners.length; i++) {

105:         for (uint256 i = 0; i < owners.length; i++) {

```

[60](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilMemberSyncAction.sol#L60), [67](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilMemberSyncAction.sol#L67), [105](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilMemberSyncAction.sol#L105)

```solidity
File: governance/src/security-council-mgmt/SecurityCouncilMgmtUtils.sol

6:         for (uint256 i = 0; i < arr.length; i++) {

20:         uint256 intermediateLength = 0;

22:         for (uint256 i = 0; i < input.length; i++) {

31:         for (uint256 i = 0; i < intermediateLength; i++) {

```

[6](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilMgmtUtils.sol#L6), [20](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilMgmtUtils.sol#L20), [22](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilMgmtUtils.sol#L22), [31](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilMgmtUtils.sol#L31)

```solidity
File: governance/src/security-council-mgmt/factories/L2SecurityCouncilMgmtFactory.sol

111:         for (uint256 i = 0; i < dp.firstCohort.length; i++) {

117:         for (uint256 i = 0; i < dp.secondCohort.length; i++) {

```

[111](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/factories/L2SecurityCouncilMgmtFactory.sol#L111), [117](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/factories/L2SecurityCouncilMgmtFactory.sol#L117)

```solidity
File: governance/src/security-council-mgmt/governors/modules/SecurityCouncilMemberElectionGovernorCountingUpgradeable.sol

181:         for (uint256 i = 0; i < nominees.length; i++) {

205:         for (uint16 i = 0; i < nominees.length; i++) {

215:         for (uint16 i = 0; i < k; i++) {

```

[181](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/modules/SecurityCouncilMemberElectionGovernorCountingUpgradeable.sol#L181), [205](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/modules/SecurityCouncilMemberElectionGovernorCountingUpgradeable.sol#L205), [215](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/modules/SecurityCouncilMemberElectionGovernorCountingUpgradeable.sol#L215)

</details>

### <a name="G-10"></a>[G-10] Help The Optimizer By Saving A Storage Variable's Reference Instead Of Repeatedly Fetching It
To help the optimizer, declare a storage type variable and use it instead of repeatedly fetching the reference in a map or an array. The effect can be quite significant. As an example, instead of repeatedly calling `someMap[someIndex]`, save its reference like this: `SomeStruct storage someStruct = someMap[someIndex]` and use it.

*Instances (9)*:
<details>
<summary>see instances</summary>


```solidity
File: governance/src/security-council-mgmt/SecurityCouncilManager.sol

252:             SecurityCouncilData storage existantSecurityCouncil = securityCouncils[i];

285:             SecurityCouncilData storage securityCouncilData = securityCouncils[i];

291:                 SecurityCouncilData storage lastSecurityCouncil =

```

[252](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilManager.sol#L252), [285](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilManager.sol#L285), [291](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilManager.sol#L291)

```solidity
File: governance/src/security-council-mgmt/governors/SecurityCouncilNomineeElectionGovernor.sol

219:         ElectionInfo storage election = _elections[proposalId];

271:         ElectionInfo storage election = _elections[proposalId];

374:         ElectionInfo storage election = _elections[proposalId];

```

[219](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/SecurityCouncilNomineeElectionGovernor.sol#L219), [271](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/SecurityCouncilNomineeElectionGovernor.sol#L271), [374](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/SecurityCouncilNomineeElectionGovernor.sol#L374)

```solidity
File: governance/src/security-council-mgmt/governors/modules/SecurityCouncilMemberElectionGovernorCountingUpgradeable.sol

120:         ElectionInfo storage election = _elections[proposalId];

180:         ElectionInfo storage election = _elections[proposalId];

```

[120](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/modules/SecurityCouncilMemberElectionGovernorCountingUpgradeable.sol#L120), [180](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/modules/SecurityCouncilMemberElectionGovernorCountingUpgradeable.sol#L180)

```solidity
File: governance/src/security-council-mgmt/governors/modules/SecurityCouncilNomineeElectionGovernorCountingUpgradeable.sol

87:         NomineeElectionCountingInfo storage election = _elections[proposalId];

```

[87](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/modules/SecurityCouncilNomineeElectionGovernorCountingUpgradeable.sol#L87)

</details>


### <a name="G-11"></a>[G-11] `require()` or `revert()` statements that check input arguments should be at the top of the function
Checks that involve constants should come before checks that involve state variables, function calls, and calculations. By doing these checks first, the function is able to revert before wasting a Gcoldsload (2100 gas*) in a function that may ultimately revert in the unhappy case.

*Instances (1)*:

```solidity
File: governance/src/gov-action-contracts/AIPs/SecurityCouncilMgmt/SecurityCouncilMgmtUpgradeLib.sol

39:         require(

```

[39](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/gov-action-contracts/AIPs/SecurityCouncilMgmt/SecurityCouncilMgmtUpgradeLib.sol#L39)

### <a name="G-12"></a>[G-12] Shorten the array rather than copying to a new one
Inline-assembly can be used to shorten the array by changing the length slot, so that the entries don't have to be copied to a new, shorter array.

*Instances (19)*:
<details>
<summary>see instances</summary>


```solidity
File: governance/src/UpgradeExecRouteBuilder.sol

123:         address[] memory schedTargets = new address[](chainIds.length);

124:         uint256[] memory schedValues = new uint256[](chainIds.length);

125:         bytes[] memory schedData = new bytes[](chainIds.length);

191:         uint256[] memory values = new uint256[](chainIds.length);

192:         bytes[] memory actionDatas = new bytes[](chainIds.length);

```

[123](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/UpgradeExecRouteBuilder.sol#L123), [124](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/UpgradeExecRouteBuilder.sol#L124), [125](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/UpgradeExecRouteBuilder.sol#L125), [191](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/UpgradeExecRouteBuilder.sol#L191), [192](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/UpgradeExecRouteBuilder.sol#L192)

```solidity
File: governance/src/security-council-mgmt/SecurityCouncilManager.sol

338:         address[] memory members = new address[](firstCohort.length + secondCohort.length);

388:         address[] memory actionAddresses = new address[](securityCouncils.length);

389:         bytes[] memory actionDatas = new bytes[](securityCouncils.length);

390:         uint256[] memory chainIds = new uint256[](securityCouncils.length);

409:             new uint256[](securityCouncils.length), // all values are always 0

```

[338](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilManager.sol#L338), [388](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilManager.sol#L388), [389](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilManager.sol#L389), [390](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilManager.sol#L390), [409](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilManager.sol#L409)

```solidity
File: governance/src/security-council-mgmt/SecurityCouncilMgmtUtils.sol

19:         address[] memory intermediate = new address[](input.length);

30:         address[] memory output = new address[](intermediateLength);

```

[19](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilMgmtUtils.sol#L19), [30](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilMgmtUtils.sol#L30)

```solidity
File: governance/src/security-council-mgmt/factories/L2SecurityCouncilMgmtFactory.sol

146:         address[] memory memberRemovers = new address[](2);

```

[146](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/factories/L2SecurityCouncilMgmtFactory.sol#L146)

```solidity
File: governance/src/security-council-mgmt/governors/modules/ElectionGovernor.sol

22:         bytes[] memory electionData = new bytes[](1);

25:             new address[](1),

26:             new uint256[](1),

```

[22](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/modules/ElectionGovernor.sol#L22), [25](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/modules/ElectionGovernor.sol#L25), [26](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/modules/ElectionGovernor.sol#L26)

```solidity
File: governance/src/security-council-mgmt/governors/modules/SecurityCouncilMemberElectionGovernorCountingUpgradeable.sol

179:         uint240[] memory weights = new uint240[](nominees.length);

203:         uint256[] memory topNomineesPacked = new uint256[](k);

214:         address[] memory topNomineesAddresses = new address[](k);

```

[179](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/modules/SecurityCouncilMemberElectionGovernorCountingUpgradeable.sol#L179), [203](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/modules/SecurityCouncilMemberElectionGovernorCountingUpgradeable.sol#L203), [214](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/modules/SecurityCouncilMemberElectionGovernorCountingUpgradeable.sol#L214)

</details>

### <a name="G-13"></a>[G-13] Usage of `uint`s/`int`s smaller than 32 bytes (256 bits) incurs overhead
When using elements that are smaller than 32 bytes, your contract’s gas usage may be higher. This is because the EVM operates on 32 bytes at a time. Therefore, if the element is smaller than that, the EVM must use more operations in order to reduce the size of the element from 32 bytes to the desired size.
 [soliditylang docs](https://docs.soliditylang.org/en/v0.8.11/internals/layout_in_storage.html)Each operation involving a `uint8` costs an extra [22-28 gas](https://gist.github.com/IllIllI000/9388d20c70f9a4632eb3ca7836f54977)(depending on whether the other operand is also a variable of type `uint8`) as compared to ones involving `uint256`, due to the compiler having to clear the higher bits of the memory word before operating on the `uint8`, as well as the associated stack operations of doing so. Use a larger size then downcast where needed

*Instances (22)*:
<details>
<summary>see instances</summary>


```solidity
File: governance/src/security-council-mgmt/factories/L2SecurityCouncilMgmtFactory.sol

34:     uint64 removalGovMinPeriodAfterQuorum;

```

[34](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/factories/L2SecurityCouncilMgmtFactory.sol#L34)

```solidity
File: governance/src/security-council-mgmt/governors/SecurityCouncilMemberElectionGovernor.sol

191:     function castVote(uint256, uint8) public virtual override returns (uint256) {

196:     function castVoteWithReason(uint256, uint8, string calldata)

206:     function castVoteBySig(uint256, uint8, uint8, bytes32, bytes32)

206:     function castVoteBySig(uint256, uint8, uint8, bytes32, bytes32)

```

[191](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/SecurityCouncilMemberElectionGovernor.sol#L191), [196](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/SecurityCouncilMemberElectionGovernor.sol#L196), [206](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/SecurityCouncilMemberElectionGovernor.sol#L206), [206](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/SecurityCouncilMemberElectionGovernor.sol#L206)

```solidity
File: governance/src/security-council-mgmt/governors/SecurityCouncilMemberRemovalGovernor.sol

67:         uint64 _minPeriodAfterQuorum,

166:         uint8 support,

226:         uint8 support,

```

[67](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/SecurityCouncilMemberRemovalGovernor.sol#L67), [166](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/SecurityCouncilMemberRemovalGovernor.sol#L166), [226](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/SecurityCouncilMemberRemovalGovernor.sol#L226)

```solidity
File: governance/src/security-council-mgmt/governors/SecurityCouncilNomineeElectionGovernor.sol

433:     function castVote(uint256, uint8) public virtual override returns (uint256) {

438:     function castVoteWithReason(uint256, uint8, string calldata)

448:     function castVoteBySig(uint256, uint8, uint8, bytes32, bytes32)

448:     function castVoteBySig(uint256, uint8, uint8, bytes32, bytes32)

```

[433](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/SecurityCouncilNomineeElectionGovernor.sol#L433), [438](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/SecurityCouncilNomineeElectionGovernor.sol#L438), [448](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/SecurityCouncilNomineeElectionGovernor.sol#L448), [448](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/SecurityCouncilNomineeElectionGovernor.sol#L448)

```solidity
File: governance/src/security-council-mgmt/governors/modules/SecurityCouncilMemberElectionGovernorCountingUpgradeable.sol

65:     error InvalidSupport(uint8 support);

98:         uint8 support,

115:         uint240 weight = votesToWeight(proposalId, block.number, votes);

126:         uint240 prevWeightReceived = election.weightReceived[nominee];

205:         for (uint16 i = 0; i < nominees.length; i++) {

215:         for (uint16 i = 0; i < k; i++) {

228:         returns (uint240)

259:     function _downCast(uint256 x) internal pure returns (uint240) {

```

[65](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/modules/SecurityCouncilMemberElectionGovernorCountingUpgradeable.sol#L65), [98](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/modules/SecurityCouncilMemberElectionGovernorCountingUpgradeable.sol#L98), [115](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/modules/SecurityCouncilMemberElectionGovernorCountingUpgradeable.sol#L115), [126](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/modules/SecurityCouncilMemberElectionGovernorCountingUpgradeable.sol#L126), [205](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/modules/SecurityCouncilMemberElectionGovernorCountingUpgradeable.sol#L205), [215](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/modules/SecurityCouncilMemberElectionGovernorCountingUpgradeable.sol#L215), [228](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/modules/SecurityCouncilMemberElectionGovernorCountingUpgradeable.sol#L228), [259](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/modules/SecurityCouncilMemberElectionGovernorCountingUpgradeable.sol#L259)

```solidity
File: governance/src/security-council-mgmt/governors/modules/SecurityCouncilNomineeElectionGovernorCountingUpgradeable.sol

50:     error InvalidSupport(uint8 support);

65:         uint8 support,

```

[50](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/modules/SecurityCouncilNomineeElectionGovernorCountingUpgradeable.sol#L50), [65](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/modules/SecurityCouncilNomineeElectionGovernorCountingUpgradeable.sol#L65)

</details>

### <a name="G-14"></a>[G-14] Incrementing with a smaller type than `uint256` incurs overhead

*Instances (2)*:

```solidity
File: governance/src/security-council-mgmt/governors/modules/SecurityCouncilMemberElectionGovernorCountingUpgradeable.sol

205:         for (uint16 i = 0; i < nominees.length; i++) {

215:         for (uint16 i = 0; i < k; i++) {

```

[205](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/modules/SecurityCouncilMemberElectionGovernorCountingUpgradeable.sol#L205), [215](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/modules/SecurityCouncilMemberElectionGovernorCountingUpgradeable.sol#L215)

### <a name="G-15"></a>[G-15] State variables which are not modified within functions should be set as `constant` or `immutable` for values set at deployment
Cache such variables and perform operations on them, if operations include modifications to the state variable(s) then remember to equate the state variable to it's cached counterpart at the end

*Instances (10)*:
<details>
<summary>see instances</summary>


```solidity
File: governance/src/UpgradeExecRouteBuilder.sol

62:     mapping(uint256 => UpExecLocation) public upExecLocations;

```

[62](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/UpgradeExecRouteBuilder.sol#L62)

```solidity
File: governance/src/security-council-mgmt/SecurityCouncilManager.sol

70:     uint256 public updateNonce;

```

[70](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilManager.sol#L70)

```solidity
File: governance/src/security-council-mgmt/governors/SecurityCouncilNomineeElectionGovernor.sol

71:     uint256 public electionCount;

74:     mapping(uint256 => ElectionInfo) internal _elections;

```

[71](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/SecurityCouncilNomineeElectionGovernor.sol#L71), [74](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/SecurityCouncilNomineeElectionGovernor.sol#L74)

```solidity
File: governance/src/security-council-mgmt/governors/modules/ArbitrumGovernorVotesQuorumFractionUpgradeable.sol

54:     uint256[50] private __gap;

```

[54](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/modules/ArbitrumGovernorVotesQuorumFractionUpgradeable.sol#L54)

```solidity
File: governance/src/security-council-mgmt/governors/modules/ElectionGovernor.sol

59:     uint256[50] private __gap;

```

[59](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/modules/ElectionGovernor.sol#L59)

```solidity
File: governance/src/security-council-mgmt/governors/modules/SecurityCouncilMemberElectionGovernorCountingUpgradeable.sol

31:     mapping(uint256 => ElectionInfo) private _elections;

299:     uint256[48] private __gap;

```

[31](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/modules/SecurityCouncilMemberElectionGovernorCountingUpgradeable.sol#L31), [299](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/modules/SecurityCouncilMemberElectionGovernorCountingUpgradeable.sol#L299)

```solidity
File: governance/src/security-council-mgmt/governors/modules/SecurityCouncilNomineeElectionGovernorCountingUpgradeable.sol

184:     uint256[49] private __gap;

```

[184](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/modules/SecurityCouncilNomineeElectionGovernorCountingUpgradeable.sol#L184)

```solidity
File: governance/src/security-council-mgmt/governors/modules/SecurityCouncilNomineeElectionGovernorTiming.sol

101:     uint256[45] private __gap;

```

[101](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/modules/SecurityCouncilNomineeElectionGovernorTiming.sol#L101)

</details>

### <a name="G-16"></a>[G-16] State variables used within a function more than once should be cached to save gas
Set state variables listed below as constant or immutable for values set at deployment. Ensure it is safe to do so

*Instances (69)*:
<details>
<summary>see instances</summary>


```solidity
File: governance/src/UpgradeExecRouteBuilder.sol

/// @audit used befor on lines 4, 22
22:         l1TimelockMinDelay = _l1TimelockMinDelay;

```

[22](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/UpgradeExecRouteBuilder.sol#L22)

```solidity
File: governance/src/gov-action-contracts/AIPs/SecurityCouncilMgmt/GovernanceChainSCMgmtActivationAction.sol

/// @audit used befor on lines 2, 11
11:         newEmergencySecurityCouncil = _newEmergencySecurityCouncil;

/// @audit used befor on lines 3, 12
12:         newNonEmergencySecurityCouncil = _newNonEmergencySecurityCouncil;

/// @audit used befor on lines 4, 14
14:         prevEmergencySecurityCouncil = _prevEmergencySecurityCouncil;

/// @audit used befor on lines 5, 15
15:         prevNonEmergencySecurityCouncil = _prevNonEmergencySecurityCouncil;

/// @audit used befor on lines 6, 17
17:         emergencySecurityCouncilThreshold = _emergencySecurityCouncilThreshold;

/// @audit used befor on lines 7, 18
18:         nonEmergencySecurityCouncilThreshold = _nonEmergencySecurityCouncilThreshold;

/// @audit used befor on lines 8, 20
20:         securityCouncilManager = _securityCouncilManager;

/// @audit used befor on line 2
20:             ICoreTimelock(address(l2AddressRegistry.coreGovTimelock()));

/// @audit used befor on lines 9, 21
21:         l2AddressRegistry = _l2AddressRegistry;

/// @audit used befor on line 7
69:             upgradeExecutor.hasRole(EXECUTOR_ROLE, address(newEmergencySecurityCouncil)),

/// @audit used befor on lines 14, 27, 39
79:                 TIMELOCK_PROPOSAL_ROLE, address(prevNonEmergencySecurityCouncil)

/// @audit used befor on lines 15, 33, 42
85:                 TIMELOCK_PROPOSAL_ROLE, address(newNonEmergencySecurityCouncil)

/// @audit used befor on lines 46, 51, 52, 54, 91
92:             "GovernanceChainSCMgmtActivationAction: securityCouncilManager doesn't have proposal role"

/// @audit used befor on lines 6, 59, 64, 73
96:                 TIMELOCK_CANCELLER_ROLE, address(prevEmergencySecurityCouncil)

```

[11](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/gov-action-contracts/AIPs/SecurityCouncilMgmt/GovernanceChainSCMgmtActivationAction.sol#L11), [12](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/gov-action-contracts/AIPs/SecurityCouncilMgmt/GovernanceChainSCMgmtActivationAction.sol#L12), [14](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/gov-action-contracts/AIPs/SecurityCouncilMgmt/GovernanceChainSCMgmtActivationAction.sol#L14), [15](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/gov-action-contracts/AIPs/SecurityCouncilMgmt/GovernanceChainSCMgmtActivationAction.sol#L15), [17](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/gov-action-contracts/AIPs/SecurityCouncilMgmt/GovernanceChainSCMgmtActivationAction.sol#L17), [18](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/gov-action-contracts/AIPs/SecurityCouncilMgmt/GovernanceChainSCMgmtActivationAction.sol#L18), [20](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/gov-action-contracts/AIPs/SecurityCouncilMgmt/GovernanceChainSCMgmtActivationAction.sol#L20), [20](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/gov-action-contracts/AIPs/SecurityCouncilMgmt/GovernanceChainSCMgmtActivationAction.sol#L20), [21](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/gov-action-contracts/AIPs/SecurityCouncilMgmt/GovernanceChainSCMgmtActivationAction.sol#L21), [69](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/gov-action-contracts/AIPs/SecurityCouncilMgmt/GovernanceChainSCMgmtActivationAction.sol#L69), [79](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/gov-action-contracts/AIPs/SecurityCouncilMgmt/GovernanceChainSCMgmtActivationAction.sol#L79), [85](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/gov-action-contracts/AIPs/SecurityCouncilMgmt/GovernanceChainSCMgmtActivationAction.sol#L85), [92](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/gov-action-contracts/AIPs/SecurityCouncilMgmt/GovernanceChainSCMgmtActivationAction.sol#L92), [96](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/gov-action-contracts/AIPs/SecurityCouncilMgmt/GovernanceChainSCMgmtActivationAction.sol#L96)

```solidity
File: governance/src/gov-action-contracts/AIPs/SecurityCouncilMgmt/L1SCMgmtActivationAction.sol

/// @audit used befor on lines 2, 8
8:         newEmergencySecurityCouncil = _newEmergencySecurityCouncil;

/// @audit used befor on lines 3, 9
9:         prevEmergencySecurityCouncil = _prevEmergencySecurityCouncil;

/// @audit used befor on lines 4, 10
10:         emergencySecurityCouncilThreshold = _emergencySecurityCouncilThreshold;

/// @audit used befor on lines 5, 11
11:         l1UpgradeExecutor = _l1UpgradeExecutor;

/// @audit used befor on lines 6, 12
12:         l1Timelock = _l1Timelock;

/// @audit used befor on lines 7, 17, 18, 22, 26
27:             "GovernanceChainSCMgmtActivationAction: l1UpgradeExecutor canceller role not set"

/// @audit used befor on lines 11, 13, 17, 21, 22, 26
30:             !l1Timelock.hasRole(TIMELOCK_CANCELLER_ROLE, address(prevEmergencySecurityCouncil)),

/// @audit used befor on lines 4, 13, 21, 30
31:             "GovernanceChainSCMgmtActivationAction: prevEmergencySecurityCouncil canceller role not revoked"

```

[8](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/gov-action-contracts/AIPs/SecurityCouncilMgmt/L1SCMgmtActivationAction.sol#L8), [9](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/gov-action-contracts/AIPs/SecurityCouncilMgmt/L1SCMgmtActivationAction.sol#L9), [10](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/gov-action-contracts/AIPs/SecurityCouncilMgmt/L1SCMgmtActivationAction.sol#L10), [11](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/gov-action-contracts/AIPs/SecurityCouncilMgmt/L1SCMgmtActivationAction.sol#L11), [12](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/gov-action-contracts/AIPs/SecurityCouncilMgmt/L1SCMgmtActivationAction.sol#L12), [27](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/gov-action-contracts/AIPs/SecurityCouncilMgmt/L1SCMgmtActivationAction.sol#L27), [30](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/gov-action-contracts/AIPs/SecurityCouncilMgmt/L1SCMgmtActivationAction.sol#L30), [31](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/gov-action-contracts/AIPs/SecurityCouncilMgmt/L1SCMgmtActivationAction.sol#L31)

```solidity
File: governance/src/gov-action-contracts/AIPs/SecurityCouncilMgmt/NonGovernanceChainSCMgmtActivationAction.sol

/// @audit used befor on lines 2, 7
7:         newEmergencySecurityCouncil = _newEmergencySecurityCouncil;

/// @audit used befor on lines 3, 8
8:         prevEmergencySecurityCouncil = _prevEmergencySecurityCouncil;

/// @audit used befor on lines 4, 9
9:         emergencySecurityCouncilThreshold = _emergencySecurityCouncilThreshold;

/// @audit used befor on lines 5, 10
10:         upgradeExecutor = _upgradeExecutor;

/// @audit used befor on line 5
13:             upgradeExecutor.hasRole(EXECUTOR_ROLE, address(newEmergencySecurityCouncil)),

/// @audit used befor on line 4
17:             !upgradeExecutor.hasRole(EXECUTOR_ROLE, address(prevEmergencySecurityCouncil)),

/// @audit used befor on lines 7, 7, 11, 13
17:             !upgradeExecutor.hasRole(EXECUTOR_ROLE, address(prevEmergencySecurityCouncil)),

```

[7](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/gov-action-contracts/AIPs/SecurityCouncilMgmt/NonGovernanceChainSCMgmtActivationAction.sol#L7), [8](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/gov-action-contracts/AIPs/SecurityCouncilMgmt/NonGovernanceChainSCMgmtActivationAction.sol#L8), [9](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/gov-action-contracts/AIPs/SecurityCouncilMgmt/NonGovernanceChainSCMgmtActivationAction.sol#L9), [10](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/gov-action-contracts/AIPs/SecurityCouncilMgmt/NonGovernanceChainSCMgmtActivationAction.sol#L10), [13](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/gov-action-contracts/AIPs/SecurityCouncilMgmt/NonGovernanceChainSCMgmtActivationAction.sol#L13), [17](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/gov-action-contracts/AIPs/SecurityCouncilMgmt/NonGovernanceChainSCMgmtActivationAction.sol#L17), [17](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/gov-action-contracts/AIPs/SecurityCouncilMgmt/NonGovernanceChainSCMgmtActivationAction.sol#L17)

```solidity
File: governance/src/gov-action-contracts/execution-record/ActionExecutionRecord.sol

/// @audit used befor on lines 1, 2
2:         store = _store;

```

[2](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/gov-action-contracts/execution-record/ActionExecutionRecord.sol#L2)

```solidity
File: governance/src/security-council-mgmt/SecurityCouncilManager.sol

/// @audit used befor on line 1
2:         return securityCouncils.length;

/// @audit used befor on line 1
5:         _setUpgradeExecRouteBuilder(_router);

/// @audit used befor on lines 5, 6
6:             revert InvalidNewCohortLength({cohort: _newCohort, cohortSize: cohortSize});

/// @audit used befor on lines 2, 3, 4
7:             members[firstCohort.length + i] = secondCohort[i];

/// @audit used befor on lines 2, 6
7:             members[firstCohort.length + i] = secondCohort[i];

/// @audit used befor on line 5
9:         if (firstCohortIncludes(_newMember)) {

/// @audit used befor on lines 1, 2, 2, 4, 5, 8, 8
9:         emit UpgradeExecRouteBuilderSet(routerAddress);

/// @audit used befor on line 5
12:         if (secondCohortIncludes(_newMember)) {

/// @audit used befor on lines 3, 9, 10, 13
13:         secondCohort = _secondCohort;

/// @audit used befor on lines 2, 9, 10, 12, 12
14:         cohortSize = _firstCohort.length;

/// @audit used befor on lines 6, 7, 14, 14, 16, 17
21:                     securityCouncils.length

/// @audit used befor on lines 5, 7
21:             salt: this.generateSalt(newMembers, updateNonce),

/// @audit used befor on line 9
22:             delay: ArbitrumTimelock(l2CoreGovTimelock).getMinDelay()

/// @audit used befor on lines 6, 24, 25, 27
27:         l2CoreGovTimelock = _l2CoreGovTimelock;

/// @audit used befor on line 7
29:         _setUpgradeExecRouteBuilder(_router);

/// @audit used befor on lines 4, 30
31:             _addSecurityCouncil(_securityCouncils[i]);

/// @audit used befor on lines 10, 11, 12, 14, 15
31:             new uint256[](securityCouncils.length), // all values are always 0

/// @audit used befor on lines 2, 3, 21, 22, 32
36:             securityCouncils.length

```

[2](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilManager.sol#L2), [5](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilManager.sol#L5), [6](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilManager.sol#L6), [7](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilManager.sol#L7), [7](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilManager.sol#L7), [9](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilManager.sol#L9), [9](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilManager.sol#L9), [12](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilManager.sol#L12), [13](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilManager.sol#L13), [14](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilManager.sol#L14), [21](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilManager.sol#L21), [21](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilManager.sol#L21), [22](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilManager.sol#L22), [27](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilManager.sol#L27), [29](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilManager.sol#L29), [31](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilManager.sol#L31), [31](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilManager.sol#L31), [36](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilManager.sol#L36)

```solidity
File: governance/src/security-council-mgmt/governors/SecurityCouncilMemberElectionGovernor.sol

/// @audit used befor on lines 2, 21, 22, 24
24:         nomineeElectionGovernor = _nomineeElectionGovernor;

/// @audit used befor on lines 3, 25, 26, 28
28:         securityCouncilManager = _securityCouncilManager;

```

[24](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/SecurityCouncilMemberElectionGovernor.sol#L24), [28](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/SecurityCouncilMemberElectionGovernor.sol#L28)

```solidity
File: governance/src/security-council-mgmt/governors/SecurityCouncilMemberRemovalGovernor.sol

/// @audit used befor on line 1
2:         _setVoteSuccessNumerator(_voteSuccessNumerator);

/// @audit used befor on lines 1, 2, 2, 3, 5, 5
6:         emit VoteSuccessNumeratorSet(_voteSuccessNumerator);

/// @audit used befor on lines 3, 21, 22, 25
25:         securityCouncilManager = _securityCouncilManager;

/// @audit used befor on line 2
26:         _setVoteSuccessNumerator(_voteSuccessNumerator);

/// @audit used befor on lines 12, 30
31:                 && !securityCouncilManager.secondCohortIncludes(memberToRemove)

```

[2](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/SecurityCouncilMemberRemovalGovernor.sol#L2), [6](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/SecurityCouncilMemberRemovalGovernor.sol#L6), [25](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/SecurityCouncilMemberRemovalGovernor.sol#L25), [26](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/SecurityCouncilMemberRemovalGovernor.sol#L26), [31](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/SecurityCouncilMemberRemovalGovernor.sol#L31)

```solidity
File: governance/src/security-council-mgmt/governors/SecurityCouncilNomineeElectionGovernor.sol

/// @audit used befor on line 3
3:         return electionCount == 0 ? Cohort.FIRST : electionIndexToCohort(electionCount - 1);

/// @audit used befor on line 3
3:         return (electionCount < 2) ? Cohort.SECOND : electionIndexToCohort(electionCount - 2);

/// @audit used befor on lines 1, 2, 3, 3
4:         emit NomineeVetterChanged(oldNomineeVetter, _nomineeVetter);

/// @audit used befor on line 2
11:         ) = getProposeArgs(electionCount - 1);

/// @audit used befor on line 12
12:         nomineeVetter = params.nomineeVetter;

/// @audit used befor on lines 13, 14, 16
16:         securityCouncilManager = params.securityCouncilManager;

/// @audit used befor on lines 17, 18, 20
20:         securityCouncilMemberElectionGovernor = params.securityCouncilMemberElectionGovernor;

/// @audit used befor on lines 6, 16
20:         electionCount++;

/// @audit used befor on line 12
23:         if (securityCouncilManager.cohortIncludes(otherCohort(), account)) {

```

[3](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/SecurityCouncilNomineeElectionGovernor.sol#L3), [3](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/SecurityCouncilNomineeElectionGovernor.sol#L3), [4](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/SecurityCouncilNomineeElectionGovernor.sol#L4), [11](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/SecurityCouncilNomineeElectionGovernor.sol#L11), [12](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/SecurityCouncilNomineeElectionGovernor.sol#L12), [16](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/SecurityCouncilNomineeElectionGovernor.sol#L16), [20](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/SecurityCouncilNomineeElectionGovernor.sol#L20), [20](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/SecurityCouncilNomineeElectionGovernor.sol#L20), [23](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/SecurityCouncilNomineeElectionGovernor.sol#L23)

```solidity
File: governance/src/security-council-mgmt/governors/modules/SecurityCouncilNomineeElectionGovernorCountingUpgradeable.sol

/// @audit used befor on line 2
3:         _elections[proposalId].isNominee[account] = true;

```

[3](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/modules/SecurityCouncilNomineeElectionGovernorCountingUpgradeable.sol#L3)

```solidity
File: governance/src/security-council-mgmt/governors/modules/SecurityCouncilNomineeElectionGovernorTiming.sol

/// @audit used befor on lines 3, 6, 15
16:             hour: firstNominationStartDate.hour,

/// @audit used befor on lines 2, 6, 7, 8, 9, 16, 17, 18, 19, 25, 26, 27, 28, 37
37:         firstNominationStartDate = _firstNominationStartDate;

/// @audit used befor on lines 3, 38
38:         nomineeVettingDuration = _nomineeVettingDuration;

```

[16](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/modules/SecurityCouncilNomineeElectionGovernorTiming.sol#L16), [37](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/modules/SecurityCouncilNomineeElectionGovernorTiming.sol#L37), [38](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/modules/SecurityCouncilNomineeElectionGovernorTiming.sol#L38)

</details>

### <a name="G-17"></a>[G-17] Increments can be `unchecked` in for-loops

*Instances (28)*:
<details>
<summary>see instances</summary>


```solidity
File: governance/src/UpgradeExecRouteBuilder.sol

76:         for (uint256 i = 0; i < _upgradeExecutors.length; i++) {

129:         for (uint256 i = 0; i < chainIds.length; i++) {

193:         for (uint256 i = 0; i < chainIds.length; i++) {

```

[76](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/UpgradeExecRouteBuilder.sol#L76), [129](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/UpgradeExecRouteBuilder.sol#L129), [193](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/UpgradeExecRouteBuilder.sol#L193)

```solidity
File: governance/src/gov-action-contracts/AIPs/SecurityCouncilMgmt/SecurityCouncilMgmtUpgradeLib.sol

61:         for (uint256 i = 0; i < array1.length; i++) {

63:             for (uint256 j = 0; j < array2.length; j++) {

74:         for (uint256 i = 0; i < array2.length; i++) {

76:             for (uint256 j = 0; j < array1.length; j++) {

```

[61](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/gov-action-contracts/AIPs/SecurityCouncilMgmt/SecurityCouncilMgmtUpgradeLib.sol#L61), [63](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/gov-action-contracts/AIPs/SecurityCouncilMgmt/SecurityCouncilMgmtUpgradeLib.sol#L63), [74](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/gov-action-contracts/AIPs/SecurityCouncilMgmt/SecurityCouncilMgmtUpgradeLib.sol#L74), [76](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/gov-action-contracts/AIPs/SecurityCouncilMgmt/SecurityCouncilMgmtUpgradeLib.sol#L76)

```solidity
File: governance/src/security-council-mgmt/SecurityCouncilManager.sol

106:         for (uint256 i = 0; i < _roles.memberRemovers.length; i++) {

118:         for (uint256 i = 0; i < _securityCouncils.length; i++) {

135:         for (uint256 i = 0; i < _newCohort.length; i++) {

162:         for (uint256 i = 0; i < 2; i++) {

164:             for (uint256 j = 0; j < cohort.length; j++) {

251:         for (uint256 i = 0; i < securityCouncils.length; i++) {

284:         for (uint256 i = 0; i < securityCouncils.length; i++) {

339:         for (uint256 i = 0; i < firstCohort.length; i++) {

342:         for (uint256 i = 0; i < secondCohort.length; i++) {

392:         for (uint256 i = 0; i < securityCouncils.length; i++) {

```

[106](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilManager.sol#L106), [118](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilManager.sol#L118), [135](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilManager.sol#L135), [162](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilManager.sol#L162), [164](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilManager.sol#L164), [251](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilManager.sol#L251), [284](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilManager.sol#L284), [339](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilManager.sol#L339), [342](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilManager.sol#L342), [392](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilManager.sol#L392)

```solidity
File: governance/src/security-council-mgmt/SecurityCouncilMemberSyncAction.sol

60:         for (uint256 i = 0; i < _updatedMembers.length; i++) {

67:         for (uint256 i = 0; i < previousOwners.length; i++) {

105:         for (uint256 i = 0; i < owners.length; i++) {

```

[60](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilMemberSyncAction.sol#L60), [67](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilMemberSyncAction.sol#L67), [105](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilMemberSyncAction.sol#L105)

```solidity
File: governance/src/security-council-mgmt/SecurityCouncilMgmtUtils.sol

6:         for (uint256 i = 0; i < arr.length; i++) {

22:         for (uint256 i = 0; i < input.length; i++) {

31:         for (uint256 i = 0; i < intermediateLength; i++) {

```

[6](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilMgmtUtils.sol#L6), [22](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilMgmtUtils.sol#L22), [31](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilMgmtUtils.sol#L31)

```solidity
File: governance/src/security-council-mgmt/factories/L2SecurityCouncilMgmtFactory.sol

111:         for (uint256 i = 0; i < dp.firstCohort.length; i++) {

117:         for (uint256 i = 0; i < dp.secondCohort.length; i++) {

```

[111](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/factories/L2SecurityCouncilMgmtFactory.sol#L111), [117](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/factories/L2SecurityCouncilMgmtFactory.sol#L117)

```solidity
File: governance/src/security-council-mgmt/governors/modules/SecurityCouncilMemberElectionGovernorCountingUpgradeable.sol

181:         for (uint256 i = 0; i < nominees.length; i++) {

205:         for (uint16 i = 0; i < nominees.length; i++) {

215:         for (uint16 i = 0; i < k; i++) {

```

[181](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/modules/SecurityCouncilMemberElectionGovernorCountingUpgradeable.sol#L181), [205](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/modules/SecurityCouncilMemberElectionGovernorCountingUpgradeable.sol#L205), [215](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/modules/SecurityCouncilMemberElectionGovernorCountingUpgradeable.sol#L215)

</details>

### <a name="G-18"></a>[G-18] Use `!= 0` instead of `> 0` for unsigned integer comparison
*Saves 6 gas per instance*

*Instances (3)*:

```solidity
File: governance/src/security-council-mgmt/governors/SecurityCouncilMemberRemovalGovernor.sol

183:         if (!(0 < _voteSuccessNumerator && _voteSuccessNumerator <= voteSuccessDenominator)) {

```

[183](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/SecurityCouncilMemberRemovalGovernor.sol#L183)

```solidity
File: governance/src/security-council-mgmt/governors/modules/SecurityCouncilMemberElectionGovernorCountingUpgradeable.sol

159:         return votesUsed(proposalId, account) > 0;

```

[159](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/modules/SecurityCouncilMemberElectionGovernorCountingUpgradeable.sol#L159)

```solidity
File: governance/src/security-council-mgmt/governors/modules/SecurityCouncilNomineeElectionGovernorCountingUpgradeable.sol

134:         return _elections[proposalId].votesUsed[account] > 0;

```

[134](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/modules/SecurityCouncilNomineeElectionGovernorCountingUpgradeable.sol#L134)

### <a name="G-19"></a>[G-19] Unused named return variables without optimizer waste gas
Consider changing the variable to be an unnamed one, since the variable is never assigned, nor is it returned by name. If the optimizer is not turned on, leaving the code as it is will also waste gas for the stack variable.

*Instances (2)*:

```solidity
File: governance/src/security-council-mgmt/SecurityCouncilMemberSyncAction.sol

31:     function perform(address _securityCouncil, address[] memory _updatedMembers, uint256 _nonce)
32:            external
33:            returns (bool res)
34:        {

```

[31-34](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilMemberSyncAction.sol#L31-L34)

```solidity
File: governance/src/security-council-mgmt/governors/SecurityCouncilNomineeElectionGovernor.sol

161:     function createElection() external returns (uint256 proposalId) {

```

[161](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/SecurityCouncilNomineeElectionGovernor.sol#L161)

### <a name="G-20"></a>[G-20] Use `assembly` to write address storage values

*Instances (5)*:

```solidity
File: governance/src/UpgradeExecRouteBuilder.sol

67:     constructor(
68:            ChainAndUpExecLocation[] memory _upgradeExecutors,
69:            address _l1ArbitrumTimelock,
70:            uint256 _l1TimelockMinDelay
71:        ) {
72:            if (_l1ArbitrumTimelock == address(0)) {
73:                revert ZeroAddress();
74:            }
75:    
76:            for (uint256 i = 0; i < _upgradeExecutors.length; i++) {
77:                ChainAndUpExecLocation memory chainAndUpExecLocation = _upgradeExecutors[i];
78:                if (chainAndUpExecLocation.location.upgradeExecutor == address(0)) {
79:                    revert ZeroAddress();
80:                }
81:                if (upExecLocationExists(chainAndUpExecLocation.chainId)) {
82:                    revert UpgradeExecAlreadyExists(chainAndUpExecLocation.chainId);
83:                }
84:                upExecLocations[chainAndUpExecLocation.chainId] = chainAndUpExecLocation.location;
85:            }
86:    
87:            l1TimelockAddr = _l1ArbitrumTimelock;
88:            l1TimelockMinDelay = _l1TimelockMinDelay;
89:        }

105:     function createActionRouteData(
106:             uint256[] memory chainIds,
107:             address[] memory actionAddresses,
108:             uint256[] memory actionValues,
109:             bytes[] memory actionDatas,
110:             bytes32 predecessor,
111:             bytes32 timelockSalt
112:         ) public view returns (address, bytes memory) {
113:             if (chainIds.length != actionAddresses.length) {
114:                 revert ParamLengthMismatch(chainIds.length, actionAddresses.length);
115:             }
116:             if (chainIds.length != actionValues.length) {
117:                 revert ParamLengthMismatch(chainIds.length, actionValues.length);
118:             }
119:             if (chainIds.length != actionDatas.length) {
120:                 revert ParamLengthMismatch(chainIds.length, actionDatas.length);
121:             }
122:     
123:             address[] memory schedTargets = new address[](chainIds.length);
124:             uint256[] memory schedValues = new uint256[](chainIds.length);
125:             bytes[] memory schedData = new bytes[](chainIds.length);
126:     
127:             // for each chain create calldata that targets the upgrade executor
128:             // from the l1 timelock
129:             for (uint256 i = 0; i < chainIds.length; i++) {
130:                 UpExecLocation memory upExecLocation = upExecLocations[chainIds[i]];
131:                 if (upExecLocation.upgradeExecutor == address(0)) {
132:                     revert UpgadeExecDoesntExist(chainIds[i]);
133:                 }
134:                 if (actionDatas[i].length == 0) {
135:                     revert EmptyActionBytesData(actionDatas);
136:                 }
137:     
138:                 bytes memory executorData = abi.encodeWithSelector(
139:                     UpgradeExecutor.execute.selector, actionAddresses[i], actionDatas[i]
140:                 );
141:     
142:                 // for L1, inbox is set to address(0):
143:                 if (upExecLocation.inbox == address(0)) {
144:                     schedTargets[i] = upExecLocation.upgradeExecutor;
145:                     schedValues[i] = actionValues[i];
146:                     schedData[i] = executorData;
147:                 } else {
148:                     // For L2 actions, magic is top level target, and value and calldata are encoded in payload
149:                     schedTargets[i] = RETRYABLE_TICKET_MAGIC;
150:                     schedValues[i] = 0;
151:                     schedData[i] = abi.encode(
152:                         upExecLocation.inbox,
153:                         upExecLocation.upgradeExecutor,
154:                         actionValues[i],
155:                         0,
156:                         0,
157:                         executorData
158:                     );
159:                 }
160:             }
161:     
162:             // batch those calls to execute from the l1 timelock
163:             bytes memory timelockCallData = abi.encodeWithSelector(
164:                 L1ArbitrumTimelock.scheduleBatch.selector,
165:                 schedTargets,
166:                 schedValues,
167:                 schedData,
168:                 predecessor,
169:                 timelockSalt,
170:                 l1TimelockMinDelay
171:             );
172:     
173:             // create a message to initiate a withdrawal to the L1 timelock
174:             return (
175:                 address(100),
176:                 abi.encodeWithSelector(ArbSys.sendTxToL1.selector, l1TimelockAddr, timelockCallData)
177:             );
178:         }

```

[67-89](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/UpgradeExecRouteBuilder.sol#L67-L89), [105-178](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/UpgradeExecRouteBuilder.sol#L105-L178)

```solidity
File: governance/src/gov-action-contracts/AIPs/SecurityCouncilMgmt/GovernanceChainSCMgmtActivationAction.sol

25:     constructor(
26:            IGnosisSafe _newEmergencySecurityCouncil,
27:            IGnosisSafe _newNonEmergencySecurityCouncil,
28:            IGnosisSafe _prevEmergencySecurityCouncil,
29:            IGnosisSafe _prevNonEmergencySecurityCouncil,
30:            uint256 _emergencySecurityCouncilThreshold,
31:            uint256 _nonEmergencySecurityCouncilThreshold,
32:            address _securityCouncilManager,
33:            IL2AddressRegistry _l2AddressRegistry
34:        ) {
35:            newEmergencySecurityCouncil = _newEmergencySecurityCouncil;
36:            newNonEmergencySecurityCouncil = _newNonEmergencySecurityCouncil;
37:    
38:            prevEmergencySecurityCouncil = _prevEmergencySecurityCouncil;
39:            prevNonEmergencySecurityCouncil = _prevNonEmergencySecurityCouncil;
40:    
41:            emergencySecurityCouncilThreshold = _emergencySecurityCouncilThreshold;
42:            nonEmergencySecurityCouncilThreshold = _nonEmergencySecurityCouncilThreshold;
43:    
44:            securityCouncilManager = _securityCouncilManager;
45:            l2AddressRegistry = _l2AddressRegistry;
46:        }

```

[25-46](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/gov-action-contracts/AIPs/SecurityCouncilMgmt/GovernanceChainSCMgmtActivationAction.sol#L25-L46)

```solidity
File: governance/src/security-council-mgmt/SecurityCouncilMgmtUtils.sol

15:     function filterAddressesWithExcludeList(
16:            address[] memory input,
17:            mapping(address => bool) storage excludeList
18:        ) internal view returns (address[] memory) {
19:            address[] memory intermediate = new address[](input.length);
20:            uint256 intermediateLength = 0;
21:    
22:            for (uint256 i = 0; i < input.length; i++) {
23:                address nominee = input[i];
24:                if (!excludeList[nominee]) {
25:                    intermediate[intermediateLength] = nominee;
26:                    intermediateLength++;
27:                }
28:            }
29:    
30:            address[] memory output = new address[](intermediateLength);
31:            for (uint256 i = 0; i < intermediateLength; i++) {
32:                output[i] = intermediate[i];
33:            }
34:    
35:            return output;
36:        }

```

[15-36](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilMgmtUtils.sol#L15-L36)

```solidity
File: governance/src/security-council-mgmt/governors/modules/SecurityCouncilMemberElectionGovernorCountingUpgradeable.sol

191:     function selectTopNominees(address[] memory nominees, uint240[] memory weights, uint256 k)
192:             public
193:             pure
194:             returns (address[] memory)
195:         {
196:             if (nominees.length != weights.length) {
197:                 revert LengthsDontMatch(nominees.length, weights.length);
198:             }
199:             if (nominees.length < k) {
200:                 revert NotEnoughNominees(nominees.length, k);
201:             }
202:     
203:             uint256[] memory topNomineesPacked = new uint256[](k);
204:     
205:             for (uint16 i = 0; i < nominees.length; i++) {
206:                 uint256 packed = (uint256(weights[i]) << 16) | i;
207:     
208:                 if (topNomineesPacked[0] < packed) {
209:                     topNomineesPacked[0] = packed;
210:                     LibSort.insertionSort(topNomineesPacked);
211:                 }
212:             }
213:     
214:             address[] memory topNomineesAddresses = new address[](k);
215:             for (uint16 i = 0; i < k; i++) {
216:                 topNomineesAddresses[i] = nominees[uint16(topNomineesPacked[i])];
217:             }
218:     
219:             return topNomineesAddresses;
220:         }

```

[191-220](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/modules/SecurityCouncilMemberElectionGovernorCountingUpgradeable.sol#L191-L220)

### <a name="G-21"></a>[G-21] `bytes.concat()` can be used instead of `abi.encodePacked`
Given concatenation is not going to be used for hashing `bytes.concat` is the preferred method to use as its more gas efficient

*Instances (1)*:

```solidity
File: governance/src/security-council-mgmt/SecurityCouncilManager.sol

375:         return keccak256(abi.encodePacked(_members, nonce));

```

[375](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilManager.sol#L375)

### <a name="G-22"></a>[G-22] The use of a logical AND (`&&`) instead of double `if` is slightly less gas efficient in instances where there isn't a corresponding `else` statement for the given `if` statement
Using a double if statement instead of logical AND (&&) can provide similar short-circuiting behavior whereas double if is slightly more efficient.

*Instances (6)*:

```solidity
File: governance/src/security-council-mgmt/SecurityCouncilManager.sol

255:                 existantSecurityCouncil.chainId == _securityCouncilData.chainId

287:                 securityCouncilData.securityCouncil == _securityCouncilData.securityCouncil

287:                 securityCouncilData.securityCouncil == _securityCouncilData.securityCouncil

```

[255](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilManager.sol#L255), [287](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilManager.sol#L287), [287](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilManager.sol#L287)

```solidity
File: governance/src/security-council-mgmt/governors/SecurityCouncilMemberRemovalGovernor.sol

135:             !securityCouncilManager.firstCohortIncludes(memberToRemove)

183:         if (!(0 < _voteSuccessNumerator && _voteSuccessNumerator <= voteSuccessDenominator)) {

```

[135](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/SecurityCouncilMemberRemovalGovernor.sol#L135), [183](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/SecurityCouncilMemberRemovalGovernor.sol#L183)

```solidity
File: governance/src/security-council-mgmt/governors/SecurityCouncilNomineeElectionGovernor.sol

369:         return isNominee(proposalId, account) && !_elections[proposalId].isExcluded[account];

```

[369](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/SecurityCouncilNomineeElectionGovernor.sol#L369)

### <a name="G-23"></a>[G-23] `>=`/ `<=` costs less gas than `>`/`<`
The compiler uses opcodes `GT` and `ISZERO` for solidity code that uses `>`, but only requires `LT` for `>=`,[which saves 3 gas](https://gist.github.com/IllIllI000/3dc79d25acccfa16dee4e83ffdc6ffde)

*Instances (45)*:
<details>
<summary>see instances</summary>


```solidity
File: governance/src/UpgradeExecRouteBuilder.sol

76:         for (uint256 i = 0; i < _upgradeExecutors.length; i++) {

129:         for (uint256 i = 0; i < chainIds.length; i++) {

193:         for (uint256 i = 0; i < chainIds.length; i++) {

```

[76](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/UpgradeExecRouteBuilder.sol#L76), [129](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/UpgradeExecRouteBuilder.sol#L129), [193](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/UpgradeExecRouteBuilder.sol#L193)

```solidity
File: governance/src/gov-action-contracts/AIPs/SecurityCouncilMgmt/SecurityCouncilMgmtUpgradeLib.sol

61:         for (uint256 i = 0; i < array1.length; i++) {

63:             for (uint256 j = 0; j < array2.length; j++) {

74:         for (uint256 i = 0; i < array2.length; i++) {

76:             for (uint256 j = 0; j < array1.length; j++) {

```

[61](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/gov-action-contracts/AIPs/SecurityCouncilMgmt/SecurityCouncilMgmtUpgradeLib.sol#L61), [63](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/gov-action-contracts/AIPs/SecurityCouncilMgmt/SecurityCouncilMgmtUpgradeLib.sol#L63), [74](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/gov-action-contracts/AIPs/SecurityCouncilMgmt/SecurityCouncilMgmtUpgradeLib.sol#L74), [76](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/gov-action-contracts/AIPs/SecurityCouncilMgmt/SecurityCouncilMgmtUpgradeLib.sol#L76)

```solidity
File: governance/src/security-council-mgmt/SecurityCouncilManager.sol

106:         for (uint256 i = 0; i < _roles.memberRemovers.length; i++) {

118:         for (uint256 i = 0; i < _securityCouncils.length; i++) {

135:         for (uint256 i = 0; i < _newCohort.length; i++) {

162:         for (uint256 i = 0; i < 2; i++) {

164:             for (uint256 j = 0; j < cohort.length; j++) {

251:         for (uint256 i = 0; i < securityCouncils.length; i++) {

284:         for (uint256 i = 0; i < securityCouncils.length; i++) {

339:         for (uint256 i = 0; i < firstCohort.length; i++) {

342:         for (uint256 i = 0; i < secondCohort.length; i++) {

392:         for (uint256 i = 0; i < securityCouncils.length; i++) {

```

[106](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilManager.sol#L106), [118](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilManager.sol#L118), [135](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilManager.sol#L135), [162](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilManager.sol#L162), [164](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilManager.sol#L164), [251](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilManager.sol#L251), [284](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilManager.sol#L284), [339](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilManager.sol#L339), [342](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilManager.sol#L342), [392](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilManager.sol#L392)

```solidity
File: governance/src/security-council-mgmt/SecurityCouncilMemberSyncAction.sol

60:         for (uint256 i = 0; i < _updatedMembers.length; i++) {

67:         for (uint256 i = 0; i < previousOwners.length; i++) {

105:         for (uint256 i = 0; i < owners.length; i++) {

```

[60](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilMemberSyncAction.sol#L60), [67](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilMemberSyncAction.sol#L67), [105](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilMemberSyncAction.sol#L105)

```solidity
File: governance/src/security-council-mgmt/SecurityCouncilMgmtUtils.sol

6:         for (uint256 i = 0; i < arr.length; i++) {

22:         for (uint256 i = 0; i < input.length; i++) {

31:         for (uint256 i = 0; i < intermediateLength; i++) {

```

[6](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilMgmtUtils.sol#L6), [22](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilMgmtUtils.sol#L22), [31](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilMgmtUtils.sol#L31)

```solidity
File: governance/src/security-council-mgmt/factories/L2SecurityCouncilMgmtFactory.sol

111:         for (uint256 i = 0; i < dp.firstCohort.length; i++) {

117:         for (uint256 i = 0; i < dp.secondCohort.length; i++) {

```

[111](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/factories/L2SecurityCouncilMgmtFactory.sol#L111), [117](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/factories/L2SecurityCouncilMgmtFactory.sol#L117)

```solidity
File: governance/src/security-council-mgmt/governors/SecurityCouncilMemberElectionGovernor.sol

56:         if (_fullWeightDuration > _votingPeriod) {

```

[56](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/SecurityCouncilMemberElectionGovernor.sol#L56)

```solidity
File: governance/src/security-council-mgmt/governors/SecurityCouncilMemberRemovalGovernor.sol

157:         return voteSuccessDenominator * forVotes > (forVotes + againstVotes) * voteSuccessNumerator;

183:         if (!(0 < _voteSuccessNumerator && _voteSuccessNumerator <= voteSuccessDenominator)) {

```

[157](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/SecurityCouncilMemberRemovalGovernor.sol#L157), [183](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/SecurityCouncilMemberRemovalGovernor.sol#L183)

```solidity
File: governance/src/security-council-mgmt/governors/SecurityCouncilNomineeElectionGovernor.sol

128:         if ((quorumDenominator() / params.quorumNumeratorValue) > 500) {

151:         if (block.number > vettingDeadline) {

167:         if (block.timestamp < thisElectionStartTs) {

339:         if (cnCount < cohortSize) {

396:         return (electionCount < 2) ? Cohort.SECOND : electionIndexToCohort(electionCount - 2);

```

[128](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/SecurityCouncilNomineeElectionGovernor.sol#L128), [151](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/SecurityCouncilNomineeElectionGovernor.sol#L151), [167](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/SecurityCouncilNomineeElectionGovernor.sol#L167), [339](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/SecurityCouncilNomineeElectionGovernor.sol#L339), [396](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/SecurityCouncilNomineeElectionGovernor.sol#L396)

```solidity
File: governance/src/security-council-mgmt/governors/modules/SecurityCouncilMemberElectionGovernorCountingUpgradeable.sol

78:         if (newFullWeightDuration > votingPeriod()) {

122:         if (prevVotesUsed + votes > availableVotes) {

159:         return votesUsed(proposalId, account) > 0;

181:         for (uint256 i = 0; i < nominees.length; i++) {

199:         if (nominees.length < k) {

205:         for (uint16 i = 0; i < nominees.length; i++) {

208:             if (topNomineesPacked[0] < packed) {

215:         for (uint16 i = 0; i < k; i++) {

237:         if (blockNumber > endBlock) {

260:         if (x > type(uint240).max) {

```

[78](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/modules/SecurityCouncilMemberElectionGovernorCountingUpgradeable.sol#L78), [122](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/modules/SecurityCouncilMemberElectionGovernorCountingUpgradeable.sol#L122), [159](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/modules/SecurityCouncilMemberElectionGovernorCountingUpgradeable.sol#L159), [181](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/modules/SecurityCouncilMemberElectionGovernorCountingUpgradeable.sol#L181), [199](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/modules/SecurityCouncilMemberElectionGovernorCountingUpgradeable.sol#L199), [205](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/modules/SecurityCouncilMemberElectionGovernorCountingUpgradeable.sol#L205), [208](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/modules/SecurityCouncilMemberElectionGovernorCountingUpgradeable.sol#L208), [215](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/modules/SecurityCouncilMemberElectionGovernorCountingUpgradeable.sol#L215), [237](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/modules/SecurityCouncilMemberElectionGovernorCountingUpgradeable.sol#L237), [260](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/modules/SecurityCouncilMemberElectionGovernorCountingUpgradeable.sol#L260)

```solidity
File: governance/src/security-council-mgmt/governors/modules/SecurityCouncilNomineeElectionGovernorCountingUpgradeable.sol

90:         if (votes + prevVotesUsed > weight) {

134:         return _elections[proposalId].votesUsed[account] > 0;

```

[90](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/modules/SecurityCouncilNomineeElectionGovernorCountingUpgradeable.sol#L90), [134](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/modules/SecurityCouncilNomineeElectionGovernorCountingUpgradeable.sol#L134)

</details>

### <a name="G-24"></a>[G-24] Use `uint256(1)`/`uint256(2)` instead for `true` and `false` boolean states
Use `uint256(1)` and `uint256(2)` for true/false to avoid a Gwarmaccess (100 gas), and to avoid Gsset (20000 gas) when changing from ‘false’ to ‘true’, after having been ‘true’ in the past. See [source](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/58f635312aa21f947cae5f8578638a85aa2519f5/contracts/security/ReentrancyGuard.sol#L23-L27).

*Instances (4)*:

```solidity
File: governance/src/security-council-mgmt/SecurityCouncilMgmtUtils.sol

17:         mapping(address => bool) storage excludeList

```

[17](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilMgmtUtils.sol#L17)

```solidity
File: governance/src/security-council-mgmt/governors/SecurityCouncilNomineeElectionGovernor.sol

55:         mapping(address => bool) isContender;

56:         mapping(address => bool) isExcluded;

```

[55](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/SecurityCouncilNomineeElectionGovernor.sol#L55), [56](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/SecurityCouncilNomineeElectionGovernor.sol#L56)

```solidity
File: governance/src/security-council-mgmt/governors/modules/SecurityCouncilNomineeElectionGovernorCountingUpgradeable.sol

22:         mapping(address => bool) isNominee;

```

[22](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/governors/modules/SecurityCouncilNomineeElectionGovernorCountingUpgradeable.sol#L22)
The upcoming v4.8.1 version of OpenZeppelin provides many small gas optimizations.
[Refrence](https://github.com/OpenZeppelin/openzeppelin-contracts/releases/tag/v4.8.1)

*Instances (1)*:

```solidity
File: package.json

/// @audit path: governance
1: version: 4.7.3

```

[1](https://github.com/arbitrumfoundation/governance/blob/c18de53820c505fc459f766c1b224810eaeaabc5/src/security-council-mgmt/SecurityCouncilManager.sol#L1)